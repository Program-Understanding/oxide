import{I as ie,e as X,S as pe,T as re,H as ue,U as de,b as Z,V as ce,W as me,X as fe,M as ve,Y as _e,Z as he,D as be,Q as ge}from"./d8ykqm74.js";import{Q as t,S as _,U as n,k as I,l as S,a6 as Q,a5 as W,a0 as v,u as N,O as x,W as k,F as T,ab as M,V as H,b as L,B as ye,c as we,$ as b,A,R as xe,Y as ke,a1 as z,af as Ce,a7 as $e,a8 as q}from"./vendor/json-editor-vue-mdfcgt41.js";import{_ as Ne}from"./help-fab.vue-fdt1wizc.js";import{_ as Ve}from"./ncheckbox.vue-h2ndpucy.js";import{_ as J}from"./nnavbar.vue-lvh4ek84.js";import{_ as K}from"./nbadge-ntuzwfj6.js";import{_ as ee}from"./filepath-item.vue-n7veglgp.js";import{_ as Se}from"./ndrawer.vue-of9w84z3.js";import{N as Pe}from"./vendor/vis-cum19y28.js";import{_ as De}from"./nselect-tabs.vue-jbavzq5x.js";import{_ as Te}from"./nsection-block-oxvuqj5d.js";import{_ as Ue}from"./nicon-title.vue-g9trlv29.js";import{D as j}from"./constants-b32h69zq.js";import{u as Be,a as Me}from"./state-components-gjywkn4p.js";import"./vendor/unocss-mnpxkox6.js";import"./vendor/shiki-fpe2sz4h.js";const Le={class:"markdown-body"},Ie={__name:"components",setup(r,{expose:s}){return s({frontmatter:{}}),(a,i)=>(t(),_("div",Le,i[0]||(i[0]=[n("h1",null,"Components",-1),n("p",null,"Vue Components allow us to split the UI into independent and reusable pieces, and think about each piece in isolation. This is very similar to how we nest native HTML elements, but Vue implements its own component model that allow us to encapsulate custom content and logic in each component.",-1),n("p",null,"Components placed in the components/ directory are automatically registered by Nuxt. They can be used in your templates without importing them.",-1),n("p",null,[n("a",{href:"https://nuxt.com/docs/guide/directory-structure/components",target:"_blank",rel:"noopener"},"Learn more in the documentation")],-1)])))}},Re=Ie,Fe=/\d/,Ge=["-","_","/","."];function Ae(r=""){if(!Fe.test(r))return r!==r.toLowerCase()}function Ee(r,s){const c=Ge,a=[];if(!r||typeof r!="string")return a;let i="",o,p;for(const m of r){const u=c.includes(m);if(u===!0){a.push(i),i="",o=void 0;continue}const f=Ae(m);if(p===!1){if(o===!1&&f===!0){a.push(i),i=m,o=f;continue}if(o===!0&&f===!1&&i.length>1){const g=i.at(-1);a.push(i.slice(0,Math.max(0,i.length-1))),i=g+m,o=f;continue}}i+=m,o=f,p=u}return a.push(i),a}function ze(r){return r?r[0].toUpperCase()+r.slice(1):""}function ne(r,s){return r?(Array.isArray(r)?r:Ee(r)).map(c=>ze(c)).join(""):""}const We={"text-sm":"","font-mono":""},oe=I({__name:"ComponentName",props:{component:{}},setup(r){const s=r,c=S(()=>s.component.pascalName||ne(s.component.name||s.component.__name||s.component.kebabName||""));return(a,i)=>(t(),_("code",We,[i[0]||(i[0]=n("span",{mr1:"",op20:""},"<",-1)),Q(W(c.value),1),i[1]||(i[1]=n("span",{ml1:"",op20:""},"/>",-1))]))}}),He={flex:"~ col gap1","items-start":"","of-hidden":""},Oe={flex:"~ gap2",px3:""},je={px3:"",pb2:""},Qe={key:0,border:"t base","max-h-60":"","w-full":"","of-auto":"",px3:"",py3:""},Xe={"text-sm":""},Ye={"text-primary":""},qe={key:0,flex:"~ col gap-2","items-start":"",pt3:"","text-sm":"",op75:""},Ze={key:1,border:"t base","max-h-60":"","w-full":"","of-auto":"",px3:"",py3:""},Je={"text-sm":""},Ke={"text-primary":""},en={key:0,flex:"~ col gap-2","items-start":"",pt3:"","text-sm":"",op75:""},te=I({__name:"ComponentDetails",props:{component:{},dependencies:{},dependents:{}},setup(r){const s=r,c=S(()=>s.component.pascalName||ne(s.component.name||s.component.__name||s.component.kebabName||"")),a=S(()=>s.component.filePath||s.component.file||s.component.__file||""),i=ie();return(o,p)=>{const m=oe,u=X,f=K,g=ee;return t(),_("div",He,[n("div",Oe,[v(m,{component:o.component},null,8,["component"]),v(u,{title:"Copy name","flex-none":"",icon:"carbon-copy",border:!1,onClick:p[0]||(p[0]=h=>N(i)(`<${c.value}></${c.value}>`,"component-name"))}),o.component.global?(t(),x(f,{key:0,n:"green",title:"Registered at runtime as a global component",textContent:"runtime"})):k("",!0)]),n("div",je,[a.value?(t(),x(g,{key:0,filepath:a.value,"w-full":"","text-sm":"",op40:"","group-hover:op75":""},null,8,["filepath"])):k("",!0)]),o.dependents?(t(),_("div",Qe,[n("div",Xe,[n("strong",Ye,W(o.dependents.length),1),p[1]||(p[1]=n("span",{op50:""}," references",-1))]),o.dependents.length?(t(),_("div",qe,[(t(!0),_(T,null,M(o.dependents,h=>(t(),x(g,{key:h,filepath:h},null,8,["filepath"]))),128))])):k("",!0)])):k("",!0),o.dependencies?(t(),_("div",Ze,[n("div",Je,[n("strong",Ke,W(o.dependencies.length),1),p[2]||(p[2]=n("span",{op50:""}," dependencies",-1))]),o.dependencies.length?(t(),_("div",en,[(t(!0),_(T,null,M(o.dependencies,h=>(t(),x(g,{key:h,filepath:h},null,8,["filepath"]))),128))])):k("",!0)])):k("",!0),H(o.$slots,"default")])}}}),nn={flex:"~ gap-4 wrap","w-full":""},on={relative:"","h-full":"","w-full":""},tn={key:0,py4:"",pt4:"",flex:"~ col"},sn={border:"t base",p4:""},ln=I({__name:"ComponentsGraph",props:{components:{},relationships:{}},setup(r){const s=r,c=L(),a=L(),i=pe(),o=L(),p=re(),m=ue(),u=de(),{componentsGraphShowNodeModules:f,componentsGraphShowGlobalComponents:g,componentsGraphShowPages:h,componentsGraphShowLayouts:V,componentsGraphShowWorkspace:y}=Z("ui"),C=L(),d=L(""),R=ce(d,300),F=S(()=>{const P=s.relationships||[];if(C.value){let e=function($){!$||l.has($)||(l.add($),$.deps.forEach(U=>{e(P.find(B=>B.id===U))}))};const l=new Set;return e(C.value),Array.from(l)}return P}),E=S(()=>{const P=F.value.map(l=>{const $=s.components.find(G=>G.filePath===l.id),U=p.value?.find(G=>G.file===l.id),B=u.value?.find(G=>G.file===l.id),O=l.id.replace(/\?.*$/,"").replace(/#.*$/,""),D=l.id.includes("/node_modules/")?"lib":$?$.global?"global":"user":B?"layout":U?"page":"unknown";if(!f.value&&D==="lib"||!h.value&&D==="page"||!V.value&&D==="layout"||!y.value&&D==="user"&&m.value&&!l.id.startsWith(m.value.rootDir)||!g.value&&D==="global")return null;const w=D==="layout"?"hexagon":D==="page"?"square":"dot",Y=R.value&&!l.id.toLowerCase().includes(R.value.toLowerCase());return{id:l.id,label:O.split("/").splice(-1)[0].replace(/\.\w+$/,""),group:D,shape:w,size:15+Math.min(l.deps.length/2,8),font:{color:Y?"#8885":i.value==="dark"?"white":"black"},color:Y?"#8885":C.value?.id===l.id?"#82c742":void 0,extra:{id:l.id,component:$,page:U,layout:B,relationship:l}}}).filter(l=>!!l),e=F.value.flatMap(l=>l.deps.map($=>({from:l.id,to:$,arrows:{to:{enabled:!0,scaleFactor:.8}}})));return{nodes:P,edges:e}}),se=S(()=>o.value?.component?s.relationships?.find(e=>e.id===o.value?.component?.filePath)?.deps?.map(e=>s.relationships?.find(l=>l.id===e)?.id).filter(Boolean):[]),le=S(()=>o.value?.component?s.relationships?.filter(e=>e.deps.includes(o.value.component.filePath))?.map(e=>s.relationships?.find(l=>l.id===e.id)?.id).filter(Boolean):[]);ye(()=>{const P={nodes:{shape:"dot",size:16},physics:{repulsion:{centralGravity:.7,springLength:100,springConstant:.01},maxVelocity:146,solver:"forceAtlas2Based",timestep:.35,stabilization:{enabled:!0,iterations:200}},groups:{user:{color:"#42b883"},unknown:{color:"#b86542"},lib:{color:"#b4b842"},page:{color:"#42b2b8"},layout:{color:"#4256b8"}}},e=new Pe(c.value,E.value,P);e.on("click",l=>{const $=l.nodes?.[0],U=E.value.nodes?.find(B=>B.id===$)?.extra;U&&(o.value=U)}),we(E,()=>{e.setData(E.value)})});function ae(){C.value=o.value?.relationship,o.value=void 0}return(P,e)=>{const l=Ve,$=J,U=me,B=te,O=X,D=Se;return t(),_(T,null,[v($,{ref_key:"navbar",ref:a,search:d.value,"onUpdate:search":e[6]||(e[6]=w=>d.value=w),absolute:"","left-0":"","right-0":"","top-0":""},{actions:b(()=>[n("div",nn,[v(l,{modelValue:N(h),"onUpdate:modelValue":e[0]||(e[0]=w=>A(h)?h.value=w:null),n:"primary sm"},{default:b(()=>e[9]||(e[9]=[n("span",{op75:""},"Show pages",-1)])),_:1},8,["modelValue"]),v(l,{modelValue:N(V),"onUpdate:modelValue":e[1]||(e[1]=w=>A(V)?V.value=w:null),n:"primary sm"},{default:b(()=>e[10]||(e[10]=[n("span",{op75:""},"Show layouts",-1)])),_:1},8,["modelValue"]),v(l,{modelValue:N(y),"onUpdate:modelValue":e[2]||(e[2]=w=>A(y)?y.value=w:null),n:"primary sm"},{default:b(()=>e[11]||(e[11]=[n("span",{op75:""},"Show workspace",-1)])),_:1},8,["modelValue"]),v(l,{modelValue:N(f),"onUpdate:modelValue":e[3]||(e[3]=w=>A(f)?f.value=w:null),n:"primary sm"},{default:b(()=>e[12]||(e[12]=[n("span",{op75:""},"Show node_modules",-1)])),_:1},8,["modelValue"]),v(l,{modelValue:N(g),"onUpdate:modelValue":e[4]||(e[4]=w=>A(g)?g.value=w:null),n:"primary sm"},{default:b(()=>e[13]||(e[13]=[n("span",{op75:""},"Show global components",-1)])),_:1},8,["modelValue"])]),C.value?(t(),_("button",{key:0,flex:"~ gap-1","flex-none":"","items-center":"","rounded-full":"","bg-gray:20":"",py1:"",pl3:"",pr2:"","text-xs":"",op50:"","hover:op100":"",onClick:e[5]||(e[5]=w=>C.value=void 0)},e[14]||(e[14]=[Q(" Clear filter "),n("div",{"i-carbon-close":""},null,-1)]))):k("",!0),e[15]||(e[15]=n("div",{"flex-auto":""},null,-1)),H(P.$slots,"default")]),_:3},8,["search"]),n("div",on,[n("div",{ref_key:"container",ref:c,"h-full":"","w-full":""},null,512),v(U,{absolute:"","bottom-3":"","left-3":"","border-0":"",p2:"",px3:"","text-sm":"","n-glass-effect":""},{default:b(()=>e[16]||(e[16]=[n("div",{grid:"~ cols-[20px_1fr] items-center gap-y-1"},[n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-42b883":""}),n("div",{op50:""}," Component "),n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-97c2fc":""}),n("div",{op50:""}," Global Component "),n("div",{"h-3":"","w-3":"","bg-hex-42b2b8":""}),n("div",{op50:""}," Page "),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 726 628","ml--1px":"","h-3":""},[n("path",{fill:"#4256b8","stroke-width":"4",d:"M723 314 543 625.8H183L3 314 183 2.2h360L723 314z"})]),n("div",{op50:""}," Layout "),n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-b4b842":""}),n("div",{op50:""}," Library Component "),n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-b86542":""}),n("div",{op50:""}," Unknown ")],-1)])),_:1}),v(D,{"model-value":!!(o.value&&o.value.component),top:a.value,border:"t l base","w-80":"",onClose:e[8]||(e[8]=w=>o.value=void 0)},{default:b(()=>[o.value&&o.value.component?(t(),_("div",tn,[v(B,{component:o.value.component,dependencies:se.value,dependents:le.value},null,8,["component","dependencies","dependents"]),n("div",sn,[v(O,{n:"primary solid",onClick:e[7]||(e[7]=w=>ae())},{default:b(()=>e[17]||(e[17]=[Q(" Filter to this component ")])),_:1})])])):k("",!0)]),_:1},8,["model-value","top"])])],64)}}}),an={hover:"bg-active",class:"group",flex:"~ gap2","w-full":"","items-center":"",rounded:"",px2:"",py1:""},pn={key:0,"ml--1":"","text-primary":""},rn=I({__name:"ComponentItem",props:{component:{},dependencies:{},dependents:{}},setup(r){const s=r,c=S(()=>s.component.filePath||s.component.file||s.component.__file||"");return(a,i)=>{const o=oe,p=te,m=xe("VDropdown"),u=K,f=ee;return t(),_("div",an,[v(m,null,{popper:b(()=>[v(p,{component:a.component,dependencies:a.dependencies,dependents:a.dependents,"w-100":"",pt4:""},null,8,["component","dependencies","dependents"])]),default:b(()=>[n("button",{"hover:text-primary":"",class:ke(a.dependents&&a.dependents.length===0?"op50":"")},[v(o,{component:a.component},null,8,["component"])],2)]),_:1}),a.dependents?.length?(t(),_("sup",pn," x"+W(a.dependents?.length),1)):k("",!0),a.component.global?(t(),x(u,{key:1,n:"green",title:"Registered at runtime as a global component",textContent:"runtime"})):k("",!0),H(a.$slots,"default"),c.value?(t(),x(f,{key:2,filepath:c.value,"text-sm":"",op25:"","group-hover:op75":""},null,8,["filepath"])):k("",!0)])}}}),un={flex:"~ gap-2 items-center"},dn={pl4:""},cn=I({__name:"ComponentsList",props:{components:{},relationships:{}},setup(r){const s=r,c=L(""),a=L("all"),i=S(()=>{const m=s.components.map(u=>fe(u,s.relationships));return a.value==="using"?m.filter(u=>u.dependents?.length):a.value==="not-used"?m.filter(u=>!u.dependents?.length):m}),o=S(()=>new ve(i.value,{keys:["component.pascalName","component.filePath","component.kebabName"]})),p=S(()=>{const m=[],u=new Map,f=[],g=[],h={user:0,lib:0,builtin:0,runtime:0};return(c.value?o.value.search(c.value).map(y=>y.item):i.value).forEach(y=>{const C=y.component;if(C.filePath&&_e(C.filePath)){const d=he(C.filePath);if(!d)return;d==="nuxt"?(f.push(y),h.builtin++):(u.has(d)||u.set(d,[]),u.get(d).push(y),h.lib++)}else C.global&&!C.filePath?(g.push(y),h.runtime++):(m.push(y),h.user++)}),{count:h,user:m,builtin:f,lib:u,runtime:g}});return(m,u)=>{const f=be,g=De,h=J,V=rn,y=Te,C=Ue;return t(),_(T,null,[v(h,{search:c.value,"onUpdate:search":u[1]||(u[1]=d=>c.value=d),pb3:""},{actions:b(()=>[H(m.$slots,"default")]),default:b(()=>[n("div",un,[v(f,{icon:"carbon-filter",op50:""}),v(g,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=d=>a.value=d),n:"primary sm",options:[{label:"All",value:"all"},{label:"Using",value:"using"},{label:"Not used",value:"not-used"}]},null,8,["modelValue"])])]),_:3},8,["search"]),p.value.user.length?(t(),x(y,{key:0,icon:"carbon-nominal",text:"User components",open:p.value.user.length<=N(j),description:`Total components: ${p.value.count.user}`},{default:b(()=>[(t(!0),_(T,null,M(p.value.user,d=>(t(),x(V,z({key:d.component.filePath,ref_for:!0},d),null,16))),128))]),_:1},8,["open","description"])):k("",!0),p.value.runtime.length?(t(),x(y,{key:1,icon:"carbon-load-balancer-global",open:p.value.runtime.length<=N(j),text:"Runtime components",description:`Total components: ${p.value.count.runtime}`},{default:b(()=>[(t(!0),_(T,null,M(p.value.runtime,d=>(t(),x(V,z({key:d.component.filePath,ref_for:!0},d),null,16))),128))]),_:1},8,["open","description"])):k("",!0),p.value.builtin.length?(t(),x(y,{key:2,icon:"simple-icons-nuxtdotjs",text:"Built-in components",description:`Total components: ${p.value.count.builtin}`},{default:b(()=>[(t(!0),_(T,null,M(p.value.builtin,d=>(t(),x(V,z({key:d.component.filePath,ref_for:!0},d),null,16))),128))]),_:1},8,["description"])):k("",!0),p.value.lib.size?(t(),x(y,{key:3,open:p.value.count.lib<=N(j),icon:"carbon-3d-mpr-toggle",text:"Components from libraries",description:`${p.value.count.lib} components from ${p.value.lib.size} packages`},{default:b(()=>[(t(!0),_(T,null,M(p.value.lib.entries(),([d,R])=>(t(),_("div",{key:d,"ml-2":""},[v(C,{text:`${d} (${R.length})`,py1:"",op50:""},null,8,["text"]),n("div",dn,[(t(!0),_(T,null,M(R,F=>(t(),x(V,z({key:F.component.filePath,ref_for:!0},F),null,16))),128))])]))),128))]),_:1},8,["open","description"])):k("",!0)],64)}}}),mn={relative:"","h-full":"","of-auto":""},fn={"flex-none":"",flex:"~ gap3"},Tn=I({__name:"components",setup(r){const s=ge(),c=Be(),a=Me(),{componentsView:i}=Z("ui");function o(){s.value?.inspector?.instance&&s.value.inspector.enable()}function p(){i.value=i.value==="list"?"graph":"list"}return(m,u)=>{const f=X,g=Re,h=Ne,V=Ce("tooltip");return t(),_(T,null,[n("div",mn,[(t(),x($e(N(i)==="list"?cn:ln),{components:N(c),relationships:N(a)},{default:b(()=>[n("div",fn,[q(v(f,{"text-lg":"",border:!1,icon:N(i)==="graph"?"i-carbon-list":"i-carbon-network-4",title:"Toggle view",onClick:p},null,8,["icon"]),[[V,"Toggle View",void 0,{"bottom-end":!0}]]),N(s)?.inspector?.instance?q((t(),x(f,{key:0,"text-lg":"",border:!1,icon:"i-tabler-focus-2",title:"Inspect Vue components",onClick:o},null,512)),[[V,"Inspect Vue components",void 0,{"bottom-end":!0}]]):k("",!0)])]),_:1},8,["components","relationships"]))]),v(h,null,{default:b(()=>[v(g)]),_:1})],64)}}});export{Tn as default};
